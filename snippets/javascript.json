{
	"Vuex Module": {
		"prefix": "vmz",
		"body": [
			"import Vue from 'vue'",
			"import CONFIG from '@/lib/config'",
			"import {find} from 'lodash/fp'",
			"// url: $1, path(name):$2",
			"",
			"export default {",
			"  namespaced: true,",
			"  state: {",
			"    list: [],",
			"    isBusy: false",
			"  },",
			"  mutations: {",
			"    busy (state) {",
			"      state.isBusy = true",
			"    },",
			"",
			"    done (state) {",
			"      state.isBusy = false",
			"    },",
			"",
			"    update (state, value) {",
			"      state.list = value",
			"    }",
			"",
			"  },",
			"  getters: {",
			"    get: state => id => find(o => o.id === id)(state.list) || null",
			"  },",
			"  actions: {",
			"    async fetch ({ commit, dispatch }) {",
			"      commit('busy')",
			"",
			"      try {",
			"        const res = await Vue.axios.get(`${$1\\}$2`)",
			"        commit('update', res.data)",
			"      } catch (err) {",
			"        console.error(`$2 fetch error`, err.response.data)",
			"        throw new Error(err.response.data.message)",
			"      } finally { commit('done') }",
			"    },",
			"",
			"    async del ({ commit, dispatch }, id) {",
			"      commit('busy')",
			"",
			"      try {",
			"        await Vue.axios.delete(`${$1}$2/${id\\}`)",
			"        dispatch('fetch')",
			"      } catch (err) {",
			"        console.error(`$2:${id\\} del error`, err.response.data)",
			"        throw new Error(err.response.data.message)",
			"      } finally { commit('done') }",
			"    },",
			"",
			"    async add ({commit}, form) {",
			"      commit('busy')",
			"",
			"      try {",
			"        return await Vue",
			"          .axios",
			"          .post(`${$1\\}$2`, form)",
			"      } catch (err) {",
			"        console.error('$2 add error', form, err.response.data)",
			"        throw new Error(err.response.data.message)",
			"      } finally { commit('done') }",
			"    },",
			"",
			"    async update ({commit}, {id, form}) {",
			"      commit('busy')",
			"",
			"      try {",
			"        return await Vue",
			"          .axios",
			"          .put(`${$1}$2/${id\\}`, form)",
			"      } catch (err) {",
			"        console.error(`$2:${id\\} update error`, form, err.response.data)",
			"        throw new Error(err.response.data.message)",
			"      } finally { commit('done') }",
			"    }",
			"  }",
			"}",
			""
		]
	}
}